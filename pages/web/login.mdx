# Login Page

This example demonstrates how to create a login page with KeyriQR. It provides various authentication methods, including local passkeys, mobile registration, and app-based authentication.

## HTML Structure

The HTML structure includes an iframe for displaying the QR code, and a series of buttons for the available authentication methods.

```html
<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>QR - Demo</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      crossorigin="anonymous"
      media="all"
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
    />
  </head>
  <body>
    <main class="text-center">
      <div>
        <iframe
          scrolling="no"
          frameborder="0"
          height="500"
          width="500"
          id="qr-iframe"
        ></iframe>
      </div>
      <a class="btn btn-lg btn-primary" style="width: 100%; margin-bottom: 20px;" id="makeLocalPassKey">CREATE LOCAL PASSKEY</a>
      <a class="btn btn-lg btn-primary" style="width: 100%; margin-bottom: 20px;" id="authenticateLocalPasskey">SIGN-IN WITH LOCAL PASSKEY</a>
      <a class="btn btn-lg btn-primary" style="width: 100%; margin-bottom: 20px;" id="registerAPhone">REGISTER A PHONE</a>
      <a class="btn btn-lg btn-primary" style="width: 100%; margin-bottom: 20px;" id="signInWithPhone">SIGN IN WITH PHONE</a>
      <a class="btn btn-lg btn-primary" style="width: 100%; margin-bottom: 20px;" id="signInWithApp">SIGN IN WITH APP</a>
    </main>
  </body>
</html>
```

## JavaScript

The script handles the iframe source, imports the required modules, and assigns event listeners to the buttons.

```javascript
  // Import event manager for handling events from the iframe
  import * as EventManager from "./mjs/eventManager.mjs";

  // Import environment-specific variables, such as host, app key, and mobile URL
  import {host, appKey, mobile} from "./mjs/keys.mjs";

  // Import local and appless authentication methods
  import {makeLocalPassKey, authenticateLocalPasskey, makeMobilePassKey} from "./mjs/localAppless.mjs";

  // Build the iframe source URL with the necessary query parameters
  const iframeSrc = `./qr.html?qsd=false&Host=${host}&appKey=${appKey}&mobile=${mobile}`;

  // Set the source of the iframe to display the QR code
  const iframe = document.querySelector("iframe");
  iframe.src = iframeSrc;

  // Assign event listeners to the buttons for the various authentication methods
  document.getElementById("makeLocalPassKey").onclick = async (e) => {await makeLocalPassKey(e)};

  document.getElementById("authenticateLocalPasskey").onclick = async (e) => {await authenticateLocalPasskey(e)};

  document.getElementById("registerAPhone").onclick = async (e) => {console.log("ding!");await makeMobilePassKey(e)};

  document.getElementById("signInWithPhone").onclick = async (e) => {alert("scan qr with a REGISTERED Phone")};

  document.getElementById("signInWithApp").onclick = async (e) => {alert("scan qr with your APP!")};
```

This portion of the JavaScript code assigns event listeners to the buttons for:

 * Registering a Passkey locally
 * Using a Passkey locally
 * Registering a Passkey on your phone via QR
 * Scanning a QR with a Passkey registered phone
 * Scanning a QR with an app
