## Desktop Passkey Setup
This 

### PASSKEYS - DESKTOP

Lorem Ipsum Dolor Sed Amat...

## Setup


## Local Registration
In the same file (or not) do this:

```js
// Register a LOGGED IN USER
async function makeLocalPassKey(e) {
  e.preventDefault();
  let idToken = "{USER-SESSION-TOKEN}";
  await localAppless.register(idToken);
  alert("LOCAL PASS KEY CREATED");
}
```
Where `{USER-SESSION-TOKEN}` is the session token or something to prove the user trying to register is logged in that you can prove server side.


## Local Authentication
```js
// Authenticate an EXISTING USER
async function authenticateLocalPasskey(e) {
  e.preventDefault();
  let authData = await localAppless.authenticate(true);
  console.log({ authData });
  alert("LOGGED IN!");
}
```

# PASSKEYS - QR

You can also use your user's phone as an auth device with QR, blah blah blah

## Desktop Setup

Nothing if you are set up for local passkeys.

## Desktop Registration

```js
//
// This generates a url for the iframe.
// YOU have to set the `src` of the iframe.
//
async function makeMobilePassKey(e) {
  e.preventDefault();

  const SESSION_TOKEN = "{SESSION_TOKEN}";
  const QR_IFRAME = document.getElementById("qr-iframe");
  const ONE_TIME_PIN = prompt("Pick a number between 1 and 100");
  let QUERY_STRING = localAppless.registerMobile(SESSION_TOKEN, ONE_TIME_PIN);
  let TMP_SRC = `./qr.html?mobile=http://localhost/mobile.html&qsd=false&Environment=dev&Origin=misc.keyri.com&${QUERY_STRING}`;
  
  QR_IFRAME.src = TMP_SRC;
}
```
